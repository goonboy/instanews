!function(t){t.fn.selectBoxes=function(e){var s=t.extend({},{maxHeight:210,liHeight:30},e),i=t(this);i.wrap("<div class='select'></div>"),i.closest("div.select").append("<div class='select-element'><span class='active-option'></span><div class='option-list' style='max-height:"+s.maxHeight+"px;'><ul></ul></div>");i.closest("div.select").find("span.active-option"),i.closest("div.select").find(".option-list ul"),i.closest("div.select").find("select");t(this).each(function(e,i){var l=t(this).find("option").length;t(this).closest("div.select").find(".option-list").css({height:l*s.liHeight});var o=t(this),n=(t("div.select"),o.closest("div.select").find("span.active-option")),c=o.closest("div.select").find(".option-list ul"),a=o.find("option:selected"),d=o.find("option:selected").html(),v=[];for(o.find("option").each(function(){v.push([t(this).attr("value"),t(this).html()])}),e=0;e<v.length;++e)c.append("<li data-value="+v[e][0]+">"+v[e][1]+"</li>");a.length?n.html(d):n.html(v[0][1])}),t("span.active-option").on("click",function(){var e=t(this);e.closest("div.select").find(".option-list").toggleClass("show"),e.closest("div.select").toggleClass("open")}),t(".option-list li").on("click",function(){var e=t(this),s=e.attr("data-value"),i=e.html();e.closest("div.select").find("select").val(s).change(),e.closest("div.select").find(".active-option").html(i),e.closest("div.option-list").removeClass("show"),t("div.select").removeClass("open")}),t(document).mouseup(function(e){var s=t("div.select");s.is(e.target)||0!==s.has(e.target).length||(s.find("div.option-list").removeClass("show"),s.removeClass("open"))})}}(jQuery);